- 项目开发过程中的测试脚本统一放在test目录下，以保持项目结构的清晰
- 采用TDD的开发原则
- 采用conda环境myTrade进行开发    


## 📌 项目简介

本项目旨在开发一个本地部署、基于 TradingAgents 智能体引擎的 A 股量化交易系统，具备以下特点：

- 数据源接入（如 akshare、tushare、雪球、网易财经等）；
- 多智能体分析驱动的交易信号生成；
- 回测引擎 + 日/小时级模拟盘；
- 解释性日志输出（自然语言分析思路）；
- 对话式金融专家模块（并行交互组件）；
- CLI 起步，后期支持 Web UI。

---

## 🧩 输入文件说明

你将使用以下两份文档作为开发蓝图：

### 1. `prd.md`（产品需求文档）
- 系统目标、功能模块划分、架构图、阶段性目标拆解
- 数据流说明，输出规范
- 模块伪代码（如交易主循环、LLM限流机制）

### 2. `dev_guide.md`（开发说明文档）
- 模块开发指南（目标、输入输出、伪代码、依赖）
- 启动脚本示例、Mock数据建议
- Python版本、依赖管理建议
- black + flake8 + isort 格式要求、结构规范

---

## 🛠️ 开发任务目标

请基于上述文档，按如下要求完成开发任务：

1. 模块划分如下（按优先级）：
   - 数据采集模块（行情、财务数据、API聚合）
   - TradingAgents接入模块（分析代理注册、智能体行为调用）
   - 信号生成与交易主循环（含限流与多代理评估）
   - 回测模块（按日/小时粒度执行，输出交易与收益日志）
   - 解释性日志模块（自然语言生成分析报告）
   - CLI 接口与交互模块
   - 专家对话模块（并行运行，非主交易循环一部分）
   - 配置与路径管理模块（统一配置结构、参数存储）

2. 所有模块需支持：
   - 单独调试运行
   - 调用 TradingAgents 中的 agent 分析框架
   - 生成结构化日志与自然语言日志
   - 模块集成后支持一键运行：

```bash
python main.py --symbol 000001.SZ --start 2023-01-01 --end 2023-07-01
````

---

## ⚙️ 技术要求约定

| 项目       | 要求                             |
| -------- | ------------------------------ |
| Python版本 | ≥ 3.11                         |
| 代码风格     | black + isort + flake8         |
| 启动结构     | CLI（一期）+ FastAPI（对话专家模块）       |
| 依赖管理     | requirements.txt 或 poetry.lock |
| 目录结构     | /src /data /logs /configs 等    |
| 环境支持     | Windows + macOS 本地运行           |

---

## 🧠 模拟盘粒度

* 一期支持：日级、小时级模拟交易；
* 二期规划：分钟级支持，采用外部代理调度与异步限流机制。

---

## 📈 模拟盘交互要求

* 每次交易需输出对应 TradingAgents 的多智能体分析结果（自然语言形式）；
* 回测与模拟盘中同步打印/记录这些分析日志；
* 日志可选保存为文本、Markdown 或 HTML 格式，方便后续复盘。

---

## 🧠 对话式专家模块（并行任务）

* 单独线程/服务运行，支持 CLI 或 Web 接口；
* 用户可随时向专家提问：

  * 如“如何看待当前形态”
  * “这个模型现在的决策依据是什么”
  * “策略失效原因有哪些可能”
* 专家模块可访问本地行情数据、调用分析模型、调取日志与交易历史；
* 核心由 TradingAgents 提供 Agent 执行与智能思路生成能力。

---

## ✅ 最终交付物清单

* 所有模块源码（结构化、注释完备）；
* 启动脚本与 CLI 参数说明；
* 模拟盘运行 demo；
* mock 数据（行情、信号、日志）；
* 模块级使用说明（README）；
* 格式良好、符合约定的代码（black/flake8/isort）；
* 支持后期拓展至 Web UI 的模块接口设计。
- TradingAgents 智能体引擎参考这两个GitHub仓库：1、https://github.com/TauricResearch/TradingAgents.git；2、https://github.com/hsliuping/TradingAgents-CN.git